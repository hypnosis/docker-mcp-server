# Docker MCP: @hypnosis/docker-mcp-server

## Что это и зачем

Docker MCP Server — это MCP (Model Context Protocol) сервер для управления Docker через AI ассистента. Используй его для работы с контейнерами, БД и окружением БЕЗ ручных команд в терминале.

## Когда использовать

✅ **Управление контейнерами**: запуск, остановка, перезапуск, просмотр логов
✅ **Работа с БД**: SQL запросы, бэкапы, восстановление (PostgreSQL, Redis, SQLite)
✅ **Проверка окружения**: переменные окружения, конфигурация docker-compose
✅ **Выполнение команд**: запуск тестов, миграций, любых команд внутри контейнера
✅ **Мониторинг**: проверка здоровья сервисов, статус контейнеров

## Auto-Discovery

Сервер автоматически находит docker-compose.yml в текущей директории или родительских. Используй имена сервисов из docker-compose.yml (например, "web", "postgres", "redis").

## Безопасность

- Секреты в env переменных автоматически маскируются (PASSWORD, TOKEN, KEY, SECRET)
- SQL валидация предотвращает опасные операции (DROP, DELETE без WHERE)
- Пути валидируются для предотвращения directory traversal

## Примеры кейсов

**Разработка**: "Запусти web сервис", "Покажи логи", "Выполни миграции"
**Отладка**: "Проверь статус всех сервисов", "Покажи последние 100 строк логов"
**БД**: "Выполни SELECT запрос", "Создай бэкап перед деплоем"
**Тестирование**: "Запусти тесты в контейнере", "Проверь окружение"

## Дерево решений

Нужно управлять Docker? → docker-mcp инструменты
Нужно выполнить команду в контейнере? → docker_exec()
Нужно проверить БД? → docker_db_query/status/backup()
Нужно посмотреть логи? → docker_container_logs()
Нужно проверить окружение? → docker_env_list()
Сомневаешься → используй docker-mcp инструменты вместо `docker` команд в терминале

## Правила

1. **ВСЕГДА используй docker-mcp инструменты** для Docker операций вместо `docker`/`docker-compose` команд в терминале
2. **Auto-discovery**: сервер сам найдёт docker-compose.yml, не указывай путь явно (если не нужен remote)
3. **Имена сервисов**: используй из docker-compose.yml, не container ID
4. **Remote режим**: для SSH используй параметр `profile` в инструментах
5. **БД операции**: используй docker_db_* инструменты, не docker exec напрямую
